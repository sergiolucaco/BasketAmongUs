// Creates the gservice factory. This will be the primary means by which we interact with Google Maps
angular.module('ServicesModule')
    .factory('DataService', function($http){

        //Contact with the JSON file generated by google map API.
    	function getAllCourts() {
    		return $http.get('/api/courts')
    						.then( d => d.data )
    	}

    	function addCourt( oCourt ) {
    		return $http.post('/api/courts', oCourt)	
    	}

        function postQuery ( oQuery ) {
            return $http.post('/api/courts/filtered', oQuery)
                                .then( results => results.data)    	    
        }

        function getCourtsDetails ( id ){
            const url = `/api/court/${id}`;
            return $http.get( url ).then( d => d.data )
            
        }
        return { getAllCourts, addCourt, postQuery , getCourtsDetails}
    })